#! usr/bin/env python3

# Python script that retrieves /api/health-check endpoint to verify if Flask app is running or not

import requests


try:
    response = requests.get("http://localhost:4567/api/health-check")
    if response.status_code == requests.codes.ok:  # checks for 200 status code
        print("Flask server is running")
        exit(0)  # containers are looking for exit codes
except Exception as e:
    print(f"Flask server is NOT running\n{e}")
    response.raise_for_status()
    exit(1)
